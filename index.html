<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aesthetic Dictionary</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* --- LIGHT MODE (Peaches & Cream) --- */
            --bg-color: #d5c4b1; /* Subtle warm orange/cream */
            --card-bg: #ffffff;
            --text-main: #4a3b32; /* Warm dark brown instead of harsh black */
            --text-secondary: #8c7b70;
            
            /* Orange Gradient Definition */
            --orange-gradient: linear-gradient(135deg, #ff9a44 0%, #fc6076 100%);
            --accent-solid: #ff9a44;
            
            --shadow: 0 10px 30px rgba(255, 154, 68, 0.15); /* Orange-tinted shadow */
            --rope-color: #5d4037;
        }

        body.dark-mode {
            /* --- DARK MODE (Midnight Espresso) --- */
            --bg-color: #2b211e; /* Deep warm brown/black */
            --card-bg: #3d2f2b;
            --text-main: #ffe0cc;
            --text-secondary: #d7ccc8;
            
            /* Keep gradient but maybe slightly brighter for contrast */
            --orange-gradient: linear-gradient(135deg, #ffb74d 0%, #ff8a65 100%);
            --accent-solid: #ffb74d;
            
            --shadow: 0 10px 30px rgba(0,0,0,0.4);
            --rope-color: #a1887f;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: background 0.4s ease, color 0.4s ease, border-color 0.4s ease; }

        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 60px; /* Reduced slightly for mobile */
            overflow-x: hidden;
        }

        /* --- RESPONSIVE ROPE SWITCH --- */
        .rope-container {
            position: absolute;
            top: -20px; /* Hide top of rope off screen */
            right: 8%; /* Percentage based for mobile */
            z-index: 100;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .rope-line {
            width: 3px;
            height: 100px;
            background-color: var(--rope-color);
            transition: height 0.3s cubic-bezier(0.4, 2.5, 0.55, 1);
        }

        .rope-handle {
            width: 16px;
            height: 35px;
            /* Gradient on the handle */
            background: var(--orange-gradient); 
            border-radius: 8px;
            margin-top: -2px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Pull Animation */
        .pulling .rope-line { height: 140px; }

        /* --- THE CAT --- */
        .cat-container {
            width: 140px;
            margin-bottom: -12px;
            z-index: 2;
            position: relative;
            /* Ensure cat doesn't get too big or small */
            max-width: 30vw; 
        }
        
        .cat-svg {
            width: 100%;
            cursor: pointer;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.05));
        }
        .cat-svg:hover { transform: translateY(-5px) rotate(3deg); }

        /* --- MAIN UI --- */
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 20px;
            text-align: center;
            font-style: italic;
            /* Gradient Text Effect */
            background: var(--orange-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 0 10px;
        }

        .search-wrapper {
            width: 90%;
            max-width: 500px;
            position: relative;
            margin-bottom: 40px;
            z-index: 5;
        }

        .search-box {
            background: var(--card-bg);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            border: 2px solid transparent;
            position: relative;
            background-clip: padding-box;
        }

        /* Gradient Border Trick */
        .search-box::after {
            content: '';
            position: absolute;
            top: -2px; bottom: -2px;
            left: -2px; right: -2px;
            background: var(--orange-gradient);
            z-index: -1;
            border-radius: 52px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .search-box:focus-within::after {
            opacity: 1;
        }

        input {
            border: none;
            background: transparent;
            font-size: 1.1rem;
            flex: 1;
            outline: none;
            color: var(--text-main);
            font-family: 'Lato', sans-serif;
            min-width: 0; /* Fixes flex input shrinking on mobile */
        }

        #search-btn {
            background: var(--orange-gradient);
            border: none;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            color: white;
            box-shadow: 0 4px 10px rgba(255, 100, 100, 0.3);
            transition: transform 0.2s;
        }
        
        #search-btn:active { transform: scale(0.9); }

        /* --- RESULT CARD --- */
        .result-container {
            width: 90%;
            max-width: 600px;
            display: none;
            animation: floatUp 0.6s ease forwards;
            padding-bottom: 50px; /* Space for scrolling on phone */
        }

        @keyframes floatUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .word-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border-top: 5px solid transparent;
            background-image: linear-gradient(var(--card-bg), var(--card-bg)), var(--orange-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
        }

        .word-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start; /* Better alignment for long words on mobile */
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .word-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.1;
            word-break: break-word; /* Prevents overflow on phone */
        }

        .phonetic {
            color: var(--accent-solid);
            font-style: italic;
            font-family: 'Playfair Display', serif;
            margin-top: 5px;
        }

        .audio-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.3s;
            color: var(--text-secondary);
            flex-shrink: 0;
        }
        .audio-btn:hover { 
            background: var(--orange-gradient); 
            color: white; 
            box-shadow: 0 5px 15px rgba(255, 154, 68, 0.4);
        }

        .part-of-speech {
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.8rem;
            margin-top: 15px;
            margin-bottom: 10px;
            color: var(--text-secondary);
            display: inline-block;
            background: rgba(0,0,0,0.03);
            padding: 5px 10px;
            border-radius: 5px;
        }

        .definition {
            font-size: 1.05rem;
            line-height: 1.6;
            margin-bottom: 15px;
            padding-left: 15px;
            /* Gradient Border Left */
            border-left: 3px solid;
            border-image: var(--orange-gradient);
            border-image-slice: 1;
        }

        .example {
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-top: -10px;
            margin-bottom: 25px;
            padding-left: 18px;
        }

        .error-msg {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-top: 20px;
            color: var(--accent-solid);
        }

        /* --- MOBILE SPECIFIC TWEAKS --- */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .rope-container {
                right: 5%;
                top: -25px;
            }

            .word-card {
                padding: 25px;
            }

            .word-title {
                font-size: 2rem;
            }

            .cat-container {
                width: 110px;
            }
        }

    </style>
</head>
<body>

    <div class="rope-container" onclick="toggleTheme()">
        <div class="rope-line"></div>
        <div class="rope-handle"></div>
    </div>

    <h1>Aesthetic<br>Dictionary</h1>

    <div class="cat-container">
        <svg class="cat-svg" viewBox="0 0 200 150" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M60 150C60 150 50 80 100 80C150 80 140 150 140 150" fill="var(--text-main)"/>
            <circle cx="100" cy="80" r="40" fill="var(--text-main)"/>
            <path d="M70 50L60 10L90 45" fill="var(--text-main)"/>
            <path d="M130 50L140 10L110 45" fill="var(--text-main)"/>
            <circle cx="85" cy="75" r="4" fill="var(--bg-color)"/>
            <circle cx="115" cy="75" r="4" fill="var(--bg-color)"/>
            <path d="M96 85L104 85L100 90L96 85Z" fill="#ff9a44"/>
            <path d="M70 85L40 80" stroke="var(--bg-color)" stroke-width="2"/>
            <path d="M70 90L40 95" stroke="var(--bg-color)" stroke-width="2"/>
            <path d="M130 85L160 80" stroke="var(--bg-color)" stroke-width="2"/>
            <path d="M130 90L160 95" stroke="var(--bg-color)" stroke-width="2"/>
        </svg>
    </div>

    <div class="search-wrapper">
        <div class="search-box">
            <input type="text" id="inp-word" placeholder="Type a word..." onkeydown="handleEnter(event)">
            <button id="search-btn" onclick="searchWord()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
        </div>
    </div>

    <div class="result-container" id="result">
        </div>

    <script>
        const url = "https://api.dictionaryapi.dev/api/v2/entries/en/";
        const resultDiv = document.getElementById("result");
        const rope = document.querySelector('.rope-container');
        const body = document.body;

        // Rope Switch Logic
        function toggleTheme() {
            rope.classList.add('pulling');
            setTimeout(() => {
                body.classList.toggle('dark-mode');
            }, 100); 
            setTimeout(() => {
                rope.classList.remove('pulling');
            }, 300);
        }

        // Handle Enter Key
        function handleEnter(e) {
            if (e.key === 'Enter') {
                searchWord();
            }
        }

        // Fetch Word Logic
        async function searchWord() {
            let inpWord = document.getElementById("inp-word").value;
            if(!inpWord) return;

            try {
                const response = await fetch(`${url}${inpWord}`);
                const data = await response.json();

                if (response.ok) {
                    displayData(data[0]);
                } else {
                    resultDiv.style.display = "block";
                    resultDiv.innerHTML = `<div class="error-msg">Oh no! Couldn't find "${inpWord}".</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="error-msg">Connection error.</div>`;
            }
        }

        function displayData(data) {
            resultDiv.style.display = "block";
            
            let phonetics = data.phonetics.find(p => p.text) ? data.phonetics.find(p => p.text).text : "";
            let audioSrc = data.phonetics.find(p => p.audio) ? data.phonetics.find(p => p.audio).audio : "";

            let meaningsHTML = "";
            
            data.meanings.slice(0, 3).forEach(meaning => {
                let def = meaning.definitions[0].definition;
                let example = meaning.definitions[0].example ? `"${meaning.definitions[0].example}"` : "";

                meaningsHTML += `
                    <div class="part-of-speech">${meaning.partOfSpeech}</div>
                    <div class="definition">${def}</div>
                    ${example ? `<div class="example">${example}</div>` : ''}
                `;
            });

            resultDiv.innerHTML = `
                <div class="word-card">
                    <div class="word-header">
                        <div>
                            <div class="word-title">${data.word}</div>
                            <div class="phonetic">${phonetics}</div>
                        </div>
                        ${audioSrc ? `
                        <div class="audio-btn" onclick="playSound('${audioSrc}')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                            </svg>
                        </div>` : ''}
                    </div>
                    ${meaningsHTML}
                </div>
            `;
        }

        function playSound(src) {
            let audio = new Audio(src);
            audio.play();
        }
    </script>
</body>
</html>